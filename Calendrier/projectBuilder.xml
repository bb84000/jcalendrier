<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="create_run_jar" name="Create Runnable Jar for Project Calendrier">
    <!--this file was created by Eclipse Runnable JAR Export Wizard-->
    <!--ANT 1.7 is required                                        -->
	
	<target name="increment-version-code">
	    <propertyfile file="version.properties">
	        <entry key="buildNumber" type="int" default="1" operation="+" value="1" />
	    	
	    </propertyfile>
	</target>
	

    			
	<target name="create_run_jar">
		<tstamp>
			<format property="timestamp" pattern="yyyy-MM-dd HH:mm:ss" />
		</tstamp>
		<property file="version.properties"/>
			

		
		<jar destfile="C:/Users/Bernard/git/calendrier/Calendrier/calendrier.jar">

        	<manifest>
                <attribute name="Main-Class" value="org.eclipse.jdt.internal.jarinjarloader.JarRsrcLoader"/>
                <attribute name="Rsrc-Main-Class" value="Calendrier"/>
                <attribute name="Class-Path" value="."/>
                <attribute name="Rsrc-Class-Path" value="./ joda-time-2.3.jar javax.json-1.0.2.jar"/>
                <attribute name="Specification-Version" value="0.5.0" />
            	<attribute name="Implementation-Version" value="${build.number}"/>
        		<attribute name="Build-Date" value="${timestamp}"/>
          
			</manifest>
            <zipfileset src="jar-in-jar-loader.zip"/>
            <fileset dir="C:/Users/Bernard/git/calendrier/Calendrier/bin" excludes="**/libs/"/>
			<zipfileset dir="C:\Users\Bernard\git\calendrier\Calendrier\src\libs" includes="joda-time-2.3.jar"/>
		    <zipfileset dir="C:\Users\Bernard\git\calendrier\Calendrier\src\libs" includes="javax.json-1.0.2.jar"/>			
			
        </jar>
          	
    </target>
</project>